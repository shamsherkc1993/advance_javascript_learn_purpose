<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    </head>

    <body>
        <div>
            <p>JS PROMISES</p>
        </div>
        <script>
           
            let complete = true;

            let prom = new Promise(function(resolve, reject) {
                if ( complete){
                    resolve("i am successful");
                } else {
                    reject("i am failed");
                }
            });
            
           // console.log(prom);


            function promise2 (complete2){
                return new Promise(function(resolve, reject) {
                console.log("fetching data please wait")
                setTimeout(() => {
                    if ( complete2){
                    resolve("i am successful");
                    } else {
                        reject("i am failed");
                    }
                    
                }, 2000);
            });
            }

            //console.log(promise2(false));


            let onFulfillment = (result) => {
                console.log(result);
            }
            let onRejection = (error) => {
                console.log(error);
            }

            //promise2(false).then(onFulfillment).catch(onRejection);


            function promise3 (){
                return new Promise(function(resolve, reject) {
                console.log("fetching data please wait..")
                setTimeout(() => {
                   $.get("https://jsonplaceholder.typicode.com/users", function(data){//URL and location where to show
                    console.log(data)

                    for (const key in data) {
                        document.write(` --> ${data[key].name} --> ${data[key].email}</br>`)
                    }

                   }).fail(err => {
                    reject("failed to load json")
                   })
                    
                }, 2000);
            });
            }

            //console.log(promise2(false));

            promise3().then((result) => {
                console.log(result);
            }).catch((error) => {
                console.log(error);
            });



        </script>
    </body>
</html>